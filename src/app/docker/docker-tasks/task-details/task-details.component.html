<div class="task-details ui-widget" *ngIf="task != null">
  <header>
    <h1>
      {{ task.id }}
    </h1>
    <div class="info label-table">
      <span class="col row">
        <label>Id</label>
        <span>
          <app-unique-id [id]="task.id"
                         type="task"
                         [noTrim]="true"
          ></app-unique-id>
        </span>
      </span>
      <span class="col row">
        <label>Service id</label>
        <span>
          <app-unique-id [id]="task.serviceID"
                         type="service"
          ></app-unique-id>
        </span>
      </span>
      <span class="col row">
        <label>Service slot</label>
        <span>{{task.slot}}</span>
      </span>
      <span class="col row">
        <label>Node id</label>
        <span>
          <app-unique-id [id]="task.nodeID"
                         type="node"
          ></app-unique-id>
        </span>
      </span>
      <span class="col row">
        <label>Created</label>
        <span>{{task.createdAt | date:'medium' }}</span>
      </span>
      <span class="col row">
        <label>Updated</label>
        <span>{{task.updatedAt | date:'medium'}}</span>
      </span>
      <span class="col row">
        <label>Desired state</label>
        <span>{{task.desiredState}}</span>
      </span>
      <span class="col row">
        <label>Status</label>
        <span>
          <div class="status label-table vertical">
            <span class="col row">
              <label>State</label>
              <span>{{task.status.State}}</span>
            </span>
            <span class="col row">
              <label>Message</label>
              <span>{{task.status.Message}}</span>
            </span>
            <span class="col row">
              <label>Error</label>
              <span>{{task.status.Err}}</span>
            </span>
            <span class="col row" *ngIf="task.status.ContainerStatus != null">
              <label>Container</label>
              <span>
                <app-unique-id [id]="task.status.ContainerStatus.ContainerID"
                               [nodeId]="task.nodeID"
                               type="container"
                ></app-unique-id>
              </span>
            </span>
          </div>
        </span>
      </span>
    </div>

  </header>

  <p-tabView>
    <p-tabPanel header="Spec">
      <app-task-template [ngModel]="task.spec"
                         name="task-template"
                         [editable]="false"
      ></app-task-template>

      <app-container-spec [ngModel]="task.spec.ContainerSpec"
                          name="container-spec"
                          [editable]="false"
      ></app-container-spec>
    </p-tabPanel>
  </p-tabView>
</div>
